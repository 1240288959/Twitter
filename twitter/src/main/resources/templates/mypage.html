<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <title>我的主页</title>
    <link rel="stylesheet" th:href="@{css/bootstrap.css}"/>
</head>
<body>
<div th:include="nav :: nav"></div>
<div>
    <img th:src="@{'img/'+${session.user.image}}" alt="此处应该有my头像" />
    <button id="upload" class="btn primary-btn">更改头像</button>
    <input id="fileupload" type="file" name="image" style="display:none;"/>
    <span th:text="${session.user.name}"></span>
</div>
<div>
    <!---此处是显示个人推特的地方-->
    <div th:each="twitter:${list}">
        <h4 class="media-heading" th:text="${twitter.title}"></h4>
        <span th:text="${twitter.date}"></span>
        <span th:text="${twitter.content}"></span>
    </div>

</div>
</body>
<script th:src="@{js/jquery.min.js}"></script>
<script th:src="@{js/bootstrap.js}"></script>
<script th:src="@{js/ajaxfileupload .js}"></script>
<script>
    $("#upload").on("click",function () {
        $("#fileupload").click();
    });
    $("#fileupload").on('change',function () {
        $.ajaxFileUpload({
           url:"/setImage",
           secureuri:false,
           fileElementId:'fileupload',
           success:function (msg) {
               if(msg==false){
                   alert("false");
               }else{
                   alert("success");
               }
               return false;
            },
            error:function (msg) {
                if(msg==false){
                    alert("false");
                }else{
                    alert("success");
                }
                return false;
            }
       });
        return false;
    });
</script>
</html>